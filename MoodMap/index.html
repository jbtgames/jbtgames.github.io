<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MoodMap ðŸŒˆ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="auth" id="authPanel" aria-labelledby="authTitle">
    <div class="auth__card" role="dialog" aria-modal="true">
      <header class="auth__header">
        <p class="auth__badge">MoodMap</p>
        <h2 class="auth__title" id="authTitle">Welcome back</h2>
        <p class="auth__subtitle">Sign in to track how you're feeling and keep your streak alive.</p>
      </header>

      <div class="auth__tabs" role="tablist">
        <button type="button" class="auth__tab auth__tab--active" data-auth-tab="login" role="tab" aria-selected="true">Sign in</button>
        <button type="button" class="auth__tab" data-auth-tab="register" role="tab" aria-selected="false" tabindex="-1">Create account</button>
      </div>

      <p class="auth__notice" id="authNotice" hidden></p>

      <form class="auth__form" id="loginForm" data-auth-form="login" autocomplete="on" novalidate>
        <div class="auth__field">
          <label class="auth__label" for="loginEmail">Email</label>
          <input class="auth__input" id="loginEmail" type="email" name="email" autocomplete="email" inputmode="email" required />
        </div>

        <div class="auth__field">
          <label class="auth__label" for="loginPassword">Password</label>
          <input class="auth__input" id="loginPassword" type="password" name="password" autocomplete="current-password" minlength="6" required />
        </div>

        <button type="submit" class="button button--primary">Sign in</button>
        <p class="auth__message" id="loginMessage" role="status" aria-live="polite"></p>
      </form>

      <form class="auth__form" id="registerForm" data-auth-form="register" autocomplete="on" hidden novalidate>
        <div class="auth__field">
          <label class="auth__label" for="registerName">Display name</label>
          <input class="auth__input" id="registerName" type="text" name="name" autocomplete="name" placeholder="Skylar" required />
        </div>

        <div class="auth__field">
          <label class="auth__label" for="registerEmail">Email</label>
          <input class="auth__input" id="registerEmail" type="email" name="email" autocomplete="email" required />
        </div>

        <div class="auth__field">
          <label class="auth__label" for="registerPassword">Password</label>
          <input class="auth__input" id="registerPassword" type="password" name="password" autocomplete="new-password" minlength="6" required />
        </div>

        <div class="auth__field">
          <label class="auth__label" for="registerConfirm">Confirm password</label>
          <input class="auth__input" id="registerConfirm" type="password" name="confirm" autocomplete="new-password" minlength="6" required />
        </div>

        <button type="submit" class="button button--primary">Create account</button>
        <p class="auth__message" id="registerMessage" role="status" aria-live="polite"></p>
      </form>

      <footer class="auth__footer">
        <p>By continuing you agree to store your moods securely in our cloud database.</p>
      </footer>
    </div>
  </div>

  <div class="app app--hidden">
    <header class="app__header">
      <div class="app__branding">
        <h1 class="app__title">MoodMap <span aria-hidden="true">ðŸŒˆ</span></h1>
        <p class="app__subtitle" id="currentDate">Tuesday, March 12</p>
      </div>
      <div class="app__status">
        <div class="status-card">
          <span class="status-card__label">Current streak</span>
          <span class="status-card__value" id="streakCount">0 days</span>
        </div>
        <button class="button button--primary" id="logMoodButton" type="button" disabled>Log mood</button>
        <button class="button button--ghost" id="signOutButton" type="button" hidden>Sign out</button>
      </div>
    </header>

    <main class="app__main" aria-live="polite">
      <section class="grid" aria-label="Mood grid for current month">
        <div class="grid__header">
          <button class="grid__nav-button" id="previousMonth" type="button" aria-label="View previous month">â—€</button>
          <div class="grid__header-month" id="gridMonth">March 2024</div>
          <button class="grid__nav-button" id="nextMonth" type="button" aria-label="View next month">â–¶</button>
        </div>
        <div class="grid__weekdays">
          <span>Sun</span>
          <span>Mon</span>
          <span>Tue</span>
          <span>Wed</span>
          <span>Thu</span>
          <span>Fri</span>
          <span>Sat</span>
        </div>
        <div class="grid__cells" id="moodGrid" role="grid"></div>
        <div class="grid__legend">
          <h2 class="grid__legend-title">Palette</h2>
          <ul class="legend-list" id="legendList"></ul>
        </div>
      </section>
    </main>

    <nav class="app__nav" aria-label="Primary navigation">
      <button class="nav__item nav__item--active" type="button">My map</button>
      <button class="nav__item" type="button">Global</button>
      <button class="nav__item" type="button">Profile</button>
    </nav>
  </div>

  <dialog class="modal" id="moodModal" aria-labelledby="modalTitle">
    <form method="dialog" class="modal__content">
      <header class="modal__header">
        <h2 class="modal__title" id="modalTitle">How are you feeling today?</h2>
        <button type="submit" class="modal__close" aria-label="Close">Ã—</button>
      </header>
      <div class="modal__body">
        <ul class="palette" id="palette"></ul>
      </div>
    </form>
  </dialog>

  <script src="firebase-config.js"></script>
  <script type="module" src="app.js"></script>
</body>
</html>
